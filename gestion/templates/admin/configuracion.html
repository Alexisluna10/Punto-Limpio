{% extends 'base_admin.html' %}

{% block title_page %}
Configuraci√≥n del Sistema
{% endblock %}

{% block content %}
<div class="configuracion-container">

    <!-- Header -->
    <div class="config-header">
        <h1 class="config-title">Configuraci√≥n</h1>
        <p class="config-subtitle">Gestiona la configuraci√≥n general y estad√≠sticas del sistema</p>
    </div>

    <!-- Grid de 2 columnas -->
    <div class="config-grid-2">

        <!-- Informaci√≥n del Negocio -->
        <div class="config-card">
            <h2 class="config-card-title">
                Informaci√≥n del Negocio
            </h2>
            
            <form id="formNegocio" onsubmit="guardarNegocio(event)">
                {% csrf_token %}
                
                <div class="config-form-group">
                    <label class="config-label">Nombre del Negocio</label>
                    <input type="text" name="nombre" value="Punto Limpio" class="config-input">
                </div>

                <div class="config-form-group">
                    <label class="config-label">Direcci√≥n</label>
                    <input type="text" name="direccion" value="" placeholder="Calle, N√∫mero, Colonia" class="config-input">
                </div>

                <div class="config-form-row">
                    <div class="config-form-group">
                        <label class="config-label">Tel√©fono</label>
                        <input type="tel" name="telefono" value="" placeholder="123 456 7890" class="config-input">
                    </div>
                    <div class="config-form-group">
                        <label class="config-label">Email</label>
                        <input type="email" name="email" value="" placeholder="contacto@puntolimpio.com" class="config-input">
                    </div>
                </div>

                <div class="config-form-group">
                    <label class="config-label">Horario de Atenci√≥n</label>
                    <input type="text" name="horario" value="Lun-Vie: 8:00-20:00, S√°b: 9:00-18:00" class="config-input">
                </div>

                <button type="submit" class="config-btn config-btn-primary">
                    Guardar Informaci√≥n
                </button>
            </form>
        </div>

        <!-- Estado del Sistema -->
        <div class="config-card">
            <h2 class="config-card-title">
                Estado del Sistema
            </h2>

            <div class="config-stats-grid">

                <!-- Incidencias Pendientes -->
                <div class="config-stat-card config-stat-yellow">
                    <div class="config-stat-content">
                        <span class="config-stat-label">‚ö†Ô∏è Incidencias Pendientes</span>
                        <span class="config-stat-value">{{ incidencias_pendientes }}</span>
                    </div>
                </div>

                <!-- Productos con Stock Bajo -->
                <div class="config-stat-card config-stat-red">
                    <div class="config-stat-content">
                        <span class="config-stat-label">üì¶ Stock Bajo (‚â§10%)</span>
                        <span class="config-stat-value">{{ productos_bajo_stock }}</span>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<script>
function guardarNegocio(event) {
    event.preventDefault();
    alert('Informaci√≥n del negocio guardada correctamente');
    // Aqu√≠ implementar√≠as el guardado real con AJAX
}

function guardarNotificaciones(event) {
    event.preventDefault();
    alert('Preferencias de notificaciones guardadas');
    // Implementar guardado con AJAX
}

</script>

{% endblock %}